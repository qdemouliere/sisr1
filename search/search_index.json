{"config":{"lang":["fr"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Bloc 2 - Exploitation des serveurs et des services SISR 1","text":"<p>Bienvenue sur la page d\u00e9di\u00e9e \u00e0 la documentation Bloc 2 - Administration des syst\u00e8mes et des r\u00e9seaux du BTS SIO du lyc\u00e9e Paul-Louis Courier.</p> <p>Vous y trouverez toutes les informations techniques n\u00e9cessaires \u00e0 la r\u00e9alisation des diff\u00e9rentes activit\u00e9s \u00e0 r\u00e9aliser dans le contexte IMDEO.</p> <p>Bonne d\u00e9couverte et n'oubliez pas \"Have lot of fun\" ! :Documentation</p>"},{"location":"documentation/Linux/01--Commandes/","title":"M\u00e9mo des commandes fondamentales sur Debian","text":""},{"location":"documentation/Linux/01--Commandes/#1-trouver-de-laide-et-obtenir-de-linformation","title":"1. Trouver de l\u2019aide et obtenir de l\u2019information","text":""},{"location":"documentation/Linux/01--Commandes/#a-sur-le-web-a-laide-dun-navigateur","title":"A) Sur le web \u00e0 l\u2019aide d\u2019un navigateur","text":"<ul> <li> <p>Les cahiers de l\u2019admin Debian</p> </li> <li> <p>Le wiki de la distribution Debian</p> </li> <li> <p>Le wiki de la distribution Arch Linux</p> </li> <li> <p>Le site de r\u00e9f\u00e9rence Question/R\u00e9ponse Stack Overflow</p> </li> <li> <p>Un moteur de recherche</p> </li> <li> <p>Une IA de type LLM</p> </li> </ul>"},{"location":"documentation/Linux/01--Commandes/#b-sur-le-systeme-a-laide-de-commandes-specifiques","title":"B) Sur le syst\u00e8me \u00e0 l\u2019aide de commandes sp\u00e9cifiques","text":"<p>Obtenir le manuel d\u2019utilisation de la commande ls</p> <pre><code>etudiant@host-sio1:~$ man ls\n</code></pre> <p>Vous pouvez effectuer des recherches dans la page de manuel \u00e0 l\u2019aide de la touche /. Taper le mot-cl\u00e9 recherch\u00e9 puis sur la touche Entrer.</p>"},{"location":"documentation/Linux/01--Commandes/#2-connexion-au-systeme-gnulinux-et-utilisation-du-shell","title":"2. Connexion au syst\u00e8me GNU/Linux et utilisation du shell","text":"<p>Le shell est un programme central du syst\u00e8me d\u2019exploitation GNU/Linux. C\u2019est un interpr\u00e9teur de commande qui permet \u00e0 l\u2019utilisateur de fournir des instructions et des consignes au syst\u00e8me. L\u2019utilisateur lance des commandes par l\u2019interm\u00e9diaire d\u2019un terminal et le shell les ex\u00e9cute.</p> <p>Il existe de nombreux shells qui ont le m\u00eame r\u00f4le mais disposant de particularit\u00e9s qui leur sont propres. Par d\u00e9faut, celui utilis\u00e9 sur la plupart des distributions se nomme bash (Bourne-Again shell).</p> <p>Exemple de shells sous GNU/Linux\u00a0: sh, bash, csh, ksh, zsh.</p> <p>Premi\u00e8re connexion \u00e0 une session utilisateur \u00e0 l\u2019aide d\u2019un terminal</p> <pre><code>etudiant@template-srv:~$ \n</code></pre> Structure Description etudiant nom de l\u2019utilisateur avec lequel nous sommes connect\u00e9s template-srv nom de la machine sur laquelle nous sommes connect\u00e9s :~ nous sommes plac\u00e9s par d\u00e9faut dans le r\u00e9pertoire personnel de l\u2019utilisateur etudiant (/home/etudiant) repr\u00e9sent\u00e9 ici par le symbole ~ $ nous sommes un utilisateur disposant de droits restreints, le symbole # indiquerait que nous serions super-administrateur de la machine <p>Savoir quel shell j\u2019utilise</p> <pre><code>etudiant@template-srv:~$ echo $SHELL\n/bin/bash\n</code></pre> <p>Param\u00e9trer le fonctionnement de son shell utilisateur</p> <pre><code>etudiant@template-srv:~$ nano /home/etudiant/.bashrc\n</code></pre>"},{"location":"documentation/Linux/01--Commandes/#3-utilisation-de-la-commande-sudo","title":"3. Utilisation de la commande sudo","text":"<p>Sudo est un outil puissant qui permet de pouvoir am\u00e9liorer le contr\u00f4le et la granularit\u00e9 des privil\u00e8ges sur le syst\u00e8me et les commandes. Toutes les commandes pr\u00e9c\u00e9d\u00e9es du sudo sont journalis\u00e9es, ce qui permet une meilleure tra\u00e7abilit\u00e9 des \u00e9v\u00e8nements. Sudo permet \u00e9galement d\u2019\u00e9viter la connexion permanente avec le super-administrateur root sur le syst\u00e8me afin de limiter les erreurs de manipulations. Enfin, cela permet de ne fournir que les acc\u00e8s n\u00e9cessaires aux utilisateurs du syst\u00e8me.</p> <p>Exemple\u00a0: L\u2019administrateur syst\u00e8me s\u00e9nior ne donnera pas l\u2019acc\u00e8s au compte root \u00e0 l\u2019administrateur syst\u00e8me junior. Il lui cr\u00e9era un compte nominatif et lui attribuera uniquement l\u2019acc\u00e8s aux commandes dont il a besoin.</p> <p>Lors de l\u2019installation d\u2019un syst\u00e8me GNU/Linux, il est ainsi vivement recommand\u00e9 de d\u00e9sactiver le compte root et de cr\u00e9er un utilisateur standard qui pourra utiliser la commande sudo lorsqu\u2019il aura besoin d\u2019acc\u00e9der \u00e0 certaines commandes n\u00e9cessitant les privil\u00e8ges super-administrateur.</p> <pre><code>etudiant@host-sio1:~$ sudo tail -f /var/log/auth.log\n[sudo] Mot de passe de etudiant\u00a0:\n</code></pre> <p>Le mot de passe demand\u00e9 ici est le mot de passe du compte \u00e9tudiant. Le param\u00e9trage de l\u2019outil sudo se fait dans le fichier de configuration /etc/sudoers.</p> <p>Se servir d\u2019un \u00e9diteur de texte avec les privil\u00e8ges root sans compromettre la s\u00e9curit\u00e9</p> <pre><code>etudiant@host-sio1:~$ sudoedit /etc/ssh/sshd_config\n</code></pre> <p>La commande sudoedit sollicite l\u2019\u00e9diteur par d\u00e9faut avec les droits root mais emp\u00eache l\u2019utilisation de fonctionnalit\u00e9 dangereuse comme la possibilit\u00e9 de basculer du mode \u00e9dition vers un shell.</p>"},{"location":"documentation/Linux/01--Commandes/#4-utiliser-lediteur-de-texte-nano","title":"4. Utiliser l\u2019\u00e9diteur de texte nano","text":"<p>L\u2019\u00e9diteur de texte nano est l\u2019\u00e9diteur par d\u00e9faut du syst\u00e8me Debian GNU/Linux. Il est relativement simple \u00e0 prendre en main par rapport aux \u00e9diteurs historiques tels que vi, vim ou emacs.</p> <p>\u00c9diter un fichier texte</p> <pre><code>etudiant@host-sio1:~$ nano test.txt\n</code></pre> <p>Les raccourcis clavier utilisables \u00e0 l\u2019int\u00e9rieur de nano</p> Commandes Effet Ctrl+g Affiche de l\u2019aide Ctrl+o Enregistre les modifications r\u00e9alis\u00e9es Ctrl+k Coupe la ligne courante Ctrl+u Colle le contenu du presse-papier Ctrl+x Quitter Ctrl+w Passer en mode recherche"},{"location":"documentation/Linux/01--Commandes/#5-configuration-reseau-du-systeme-debian-gnulinux","title":"5. Configuration r\u00e9seau du syst\u00e8me Debian GNU/Linux","text":"<p>Changer le nom de sa machine</p> <pre><code>etudiant@template-srv:~$ sudoedit /etc/hostname\n[sudo] Mot de passe de etudiant\u00a0: \n\nhost-sio1\n</code></pre> <p>Modifier le fichier /etc/host pour faire correspondre l\u2019adresse IPv4 de boucle locale au nouveau nom attribu\u00e9</p> <pre><code>etudiant@template-srv:~$ sudo edit /etc/hosts\n\n127.0.0.1       localhost\n127.0.1.1       host-sio1.btssio.lan    host-sio1\n...\n</code></pre> <p>Il faut modifier la deuxi\u00e8me ligne commen\u00e7ant par 127.0.1.1 en d\u00e9finissant le nom complet et simple de la machine. Il nous reste \u00e0 red\u00e9marrer la machine pour que ces changements soient pris en compte.</p> <pre><code>etudiant@template-srv:~$ sudo shutdown -r now\n</code></pre> <p>D\u00e9finir des param\u00e8tres r\u00e9seaux statiques sous Debian</p> <pre><code>etudiant@host-sio1:~$ sudoedit /etc/network/interfaces\n\n# This file describes the network interfaces available on your&gt;\n# and how to activate them. For more information, see interfac&gt;\n\nsource /etc/network/interfaces.d/*\n\n# The loopback network interface\nauto lo\niface lo inet loopback\n\n# The primary network interface\nallow-hotplug enp0s3\nauto enp0s3\niface enp0s3 inet static\naddress 192.168.1.180/24\ngateway 192.168.1.254\n\netudiant@host-sio1:~$ sudo systemctl restart networking\n\nD\u00e9finir des param\u00e8tres r\u00e9seaux automatiques (DHCP) sous Debian\n\netudiant@host-sio1:~$ sudoedit /etc/network/interfaces\n\n# This file describes the network interfaces available on your&gt;\n# and how to activate them. For more information, see interfac&gt;\n\nsource /etc/network/interfaces.d/*\n\n# The loopback network interface\nauto lo\niface lo inet loopback\n\n# The primary network interface\nallow-hotplug enp0s3\nauto enp0s3\niface enp0s3 inet dhcp\n</code></pre> <pre><code>etudiant@host-sio1:~$ sudo systemctl restart networking\n</code></pre> <p>D\u00e9finir le ou les serveurs DNS r\u00e9cursifs utilis\u00e9s par le syst\u00e8me</p> <pre><code>etudiant@host-sio1:~$ sudoedit /etc/resolv.conf\n\nsearch btssio.lan\nnameserver 192.168.1.254\nnameserver 9.9.9.9\n</code></pre> <p>Afficher la configuration r\u00e9seau de sa machine</p> <pre><code>etudiant@host-sio1:~$ ip addr show\n1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000\n    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00\n    inet 127.0.0.1/8 scope host lo\n       valid_lft forever preferred_lft forever\n    inet6 ::1/128 scope host \n       valid_lft forever preferred_lft forever\n2: enp0s3: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP group default qlen 1000\n    link/ether 08:00:28:f7:76:89 brd ff:ff:ff:ff:ff:ff\n    inet 192.168.1.181/24 brd 192.168.1.255 scope global enp0s3\n       valid_lft forever preferred_lft forever\n    inet6 2a01:e0a:56a:f5e0:a00:27ff:fef6:6586/64 scope global dynamic mngtmpaddr \n       valid_lft 86066sec preferred_lft 86066sec\n    inet6 fe80::a00:27ff:fef6:7889/64 scope link \n       valid_lft forever preferred_lft forever\n</code></pre> <pre><code>Afficher sa passerelle par d\u00e9faut\n\netudiant@host-sio1:~$ ip route show\ndefault via 192.168.1.254 dev enp0s3 onlink \n...\n</code></pre> <p>Afficher les serveurs DNS r\u00e9cursifs utilis\u00e9s</p> <pre><code>etudiant@host-sio1:~$ cat /etc/resolv.conf \nsearch btssio.lan\nnameserver 192.168.1.254\nnameserver 9.9.9.9\n</code></pre> <p>Afficher le contenu de son cache ARP</p> <pre><code>etudiant@host-sio1:~$ ip neigh show\n192.168.1.254 dev enp0s3 lladdr dc:00:b0:f8:b1:f5 STALE\n192.168.1.142 dev enp0s3 lladdr 6b:80:a8:1c:fc:26 DELAY\n</code></pre> <p>Vider le contenu de son cache ARP</p> <pre><code>etudiant@host-sio1:~$ sudo ip neigh flush all\n</code></pre> <p>V\u00e9rifier la connectivit\u00e9 r\u00e9seau (couche 3 du mod\u00e8le OSI) avec un autre h\u00f4te</p> <pre><code>etudiant@host-sio1:~$ ping 1.1.1.1\nPING 1.1.1.1 (1.1.1.1) 56(84) bytes of data.\n64 bytes from 1.1.1.1: icmp_seq=1 ttl=57 time=9.33 ms\n64 bytes from 1.1.1.1: icmp_seq=2 ttl=57 time=9.90 ms\n</code></pre> <p>Utiliser le raccourci clavier Ctrl+C pour arr\u00eater la commande.</p> <p>V\u00e9rifier la route emprunt\u00e9e par un paquet vers un h\u00f4te en dehors de son r\u00e9seau</p> <pre><code>etudiant@host-sio1:~$ traceroute 1.1.1.1\ntraceroute to 1.1.1.1 (1.1.1.1), 30 hops max, 60 byte packets\n 1  * 192.168.1.254 (192.168.1.254)  5.772 ms  5.670 ms\n 2  194.149.169.77 (194.149.169.77)  9.367 ms  9.122 ms  9.033 ms\n 3  as12322.frpar1-rt001i.i3d.net (5.200.30.193)  12.418 ms  10.072 ms  9.994 ms\n 4  prs-b3-link.ip.twelve99.net (62.115.46.68)  9.930 ms  12.027 ms  11.774 ms\n 5  prs-bb2-link.ip.twelve99.net (62.115.118.62)  11.695 ms  11.530 ms prs-bb1-link.ip.twelve99.net (62.115.118.58)  15.679 ms\n 6  prs-b1-link.ip.twelve99.net (62.115.125.171)  15.613 ms prs-b1-link.ip.twelve99.net (62.115.125.167)  12.448 ms prs-b1-link.ip.twelve99.net (62.115.125.171)  12.401 ms\n 7  cloudflare-ic328334-prs-b8.ip.twelve99-cust.net (213.248.73.69)  11.899 ms  11.867 ms  37.552 ms\n 8  172.71.116.2 (172.71.116.2)  13.504 ms 172.71.128.2 (172.71.128.2)  13.471 ms 172.71.120.2 (172.71.120.2)  15.103 ms\n 9  one.one.one.one (1.1.1.1)  10.932 ms  11.291 ms  10.878 ms\n</code></pre> <p>Afficher les connexions r\u00e9seaux IPv4 \u00e0 ma machine</p> <pre><code>etudiant@host-sio1:~$ ss -4\nNetid  State  Recv-Q   Send-Q     Local Address:Port             Peer Address:Port             Process         \ntcp    ESTAB  0        0                  192.168.1.181:ssh               192.168.1.142:35858                 \n</code></pre> <p>V\u00e9rifier la bonne r\u00e9solution entre un nom de domaine et une adresse IP</p> <pre><code>etudiant@host-sio1:~$ host www.debian.org\nwww.debian.org has address 130.89.148.77\nwww.debian.org has IPv6 address 2001:67c:2564:a119::77\n</code></pre> <pre><code>etudiant@host-sio1:~$ dig www.debian.org\n\n; &lt;&lt;&gt;&gt; DiG 9.16.27-Debian &lt;&lt;&gt;&gt; www.debian.org\n;; global options: +cmd\n;; Got answer:\n;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 31008\n;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 1\n\n;; OPT PSEUDOSECTION:\n; EDNS: version: 0, flags:; udp: 4096\n;; QUESTION SECTION:\n;www.debian.org.            IN  A\n\n;; ANSWER SECTION:\nwww.debian.org.     234 IN  A   130.89.148.77\n\n;; Query time: 4 msec\n;; SERVER: 192.168.1.254#53(192.168.1.254)\n;; WHEN: Mon Oct 24 14:04:00 CEST 2022\n;; MSG SIZE  rcvd: 59\n</code></pre> <p>V\u00e9rifier le bon fonctionnement de la r\u00e9solution inverse (obtenir un nom de domaine \u00e0 partir d\u2019une adresse IP)</p> <pre><code>etudiant@host-sio1:~$ dig -x 130.89.148.77\n\n; &lt;&lt;&gt;&gt; DiG 9.16.27-Debian &lt;&lt;&gt;&gt; -x 130.89.148.77\n;; global options: +cmd\n;; Got answer:\n;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 61779\n;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 1\n\n;; OPT PSEUDOSECTION:\n; EDNS: version: 0, flags:; udp: 1472\n;; QUESTION SECTION:\n;77.148.89.130.in-addr.arpa.    IN  PTR\n\n;; ANSWER SECTION:\n77.148.89.130.in-addr.arpa. 600 IN  PTR www.debian.org.\n\n;; Query time: 56 msec\n;; SERVER: 192.168.1.254#53(192.168.1.254)\n;; WHEN: Mon Oct 24 14:05:16 CEST 2022\n;; MSG SIZE  rcvd: 9\n</code></pre> <p>R\u00e9aliser une capture de trames en ligne de commande sur l\u2019interface r\u00e9seau enp0s3</p> <pre><code>etudiant@host-sio1:~$ sudo tcpdump -i enp0s3\ntcpdump: verbose output suppressed, use -v[v]... for full protocol decode\nlistening on enp0s3, link-type EN10MB (Ethernet), snapshot length 262144 bytes\n14:07:07.829804 IP 192.168.1.181.ssh &gt; 192.168.1.142.35858: Flags [P.], seq 1417056190:1417056298, ack 3067159545, win 501, options [nop,nop,TS val 4121313714 ecr 2417072289], length 108\n...\n</code></pre> <p>R\u00e9aliser une capture de trames en ne filtrant que les connexions concernant l\u2019h\u00f4te 9.9.9.9 et le port 53 qui sera enregist\u00e9e dans un fichier .pcap</p> <pre><code>etudiant@host-sio1:~$ sudo tcpdump -i enp0s3 -w test.pcap host 9.9.9.9 and port 53\n</code></pre> <p>Obtenir des informations concernant le propri\u00e9taire d\u2019une adresse IP publique ou d\u2019un nom de domaine</p> <pre><code>etudiant@host-sio1:~$ whois sioplc.fr\n%%\n%% This is the AFNIC Whois server.\n%%\n%% complete date format: YYYY-MM-DDThh:mm:ssZ\n%%\n%% Rights restricted by copyright.\n%% See https://www.afnic.fr/en/domain-names-and-support/everything-there-is-to-know-about-domain-names/find-a-domain-name-or-a-holder-using-whois/\n%%\n%% Use '-h' option to obtain more information about this service.\n%%\n\ndomain:                        sioplc.fr\nstatus:                        ACTIVE\neppstatus:                     active\nhold:                          NO\nholder-c:                      ANO00-FRNIC\nadmin-c:                       ANO00-FRNIC\ntech-c:                        OVH5-FRNIC\nregistrar:                     OVH\nExpiry Date:                   2023-06-12T19:40:39Z\ncreated:                       2021-06-12T19:40:39Z\nlast-update:                   2022-06-12T20:36:09Z\nsource:                        FRNIC\n\nnserver:                       dns15.ovh.net\nnserver:                       ns15.ovh.net\nsource:                        FRNIC\n\nkey1-tag:                      31114\nkey1-algo:                     8 [RSASHA256]\nkey1-dgst-t:                   8 [SHA256]\nkey1-dgst:                     209B7D947C4944389C4B0160C9FCF7587B1AAEFBD88EB32C7098EF0511017A13\nsource:                        FRNIC\n\nregistrar:                     OVH\naddress:                       2 Rue Kellermann\naddress:                       59100 ROUBAIX\ncountry:                       FR\nphone:                         +33.899701761\nfax-no:                        +33.320200958\ne-mail:                        support@ovh.net\nwebsite:                       http://www.ovh.com\nanonymous:                     No\nregistered:                    1999-10-18T00:00:00Z\nsource:                        FRNIC\n\nnic-hdl:                       OVH5-FRNIC\ntype:                          ORGANIZATION\ncontact:                       OVH NET\naddress:                       OVH\naddress:                       140, quai du Sartel\naddress:                       59100 Roubaix\ncountry:                       FR\nphone:                         +33.899701761\ne-mail:                        tech@ovh.net\nregistrar:                     OVH\nchanged:                       2022-10-24T12:03:51.328503Z\nanonymous:                     NO\nobsoleted:                     NO\neppstatus:                     associated\neppstatus:                     active\neligstatus:                    not identified\nreachstatus:                   not identified\nsource:                        FRNIC\n\nnic-hdl:                       ANO00-FRNIC\ntype:                          PERSON\ncontact:                       Ano Nymous\nregistrar:                     OVH\nanonymous:                     YES\nremarks:                       -------------- WARNING --------------\nremarks:                       While the registrar knows him/her,\nremarks:                       this person chose to restrict access\nremarks:                       to his/her personal data. So PLEASE,\nremarks:                       don't send emails to Ano Nymous. This\nremarks:                       address is bogus and there is no hope\nremarks:                       of a reply.\nremarks:                       -------------- WARNING --------------\nobsoleted:                     NO\neppstatus:                     associated\neppstatus:                     active\neligstatus:                    not identified\nreachstatus:                   not identified\nsource:                        FRNIC\n\nnic-hdl:                       ANO00-FRNIC\ntype:                          PERSON\ncontact:                       Ano Nymous\nregistrar:                     OVH\nanonymous:                     YES\nremarks:                       -------------- WARNING --------------\nremarks:                       While the registrar knows him/her,\nremarks:                       this person chose to restrict access\nremarks:                       to his/her personal data. So PLEASE,\nremarks:                       don't send emails to Ano Nymous. This\nremarks:                       address is bogus and there is no hope\nremarks:                       of a reply.\nremarks:                       -------------- WARNING --------------\nobsoleted:                     NO\neppstatus:                     associated\neppstatus:                     active\neligstatus:                    not identified\nreachstatus:                   not identified\nsource:                        FRNIC\n\n&gt;&gt;&gt; WHOIS request date: 2022-10-24T12:12:45.706774Z &lt;&lt;&lt;\n</code></pre> <pre><code>etudiant@host-sio1:~$ whois 101.2.172.100\n% [whois.apnic.net]\n% Whois data copyright terms    http://www.apnic.net/db/dbcopyright.html\n\n% Information related to '101.2.172.0 - 101.2.175.255'\n\n% Abuse contact for '101.2.172.0 - 101.2.175.255' is 'anti-spam@chinatelecom.cn'\n\ninetnum:        101.2.172.0 - 101.2.175.255\nnetname:        CHINANET-FJ\ndescr:          CHINANET FUJIAN PROVINCE NETWORK\ndescr:          China Telecom\ndescr:          No.31,jingrong street\ndescr:          Beijing 100032\ncountry:        CN\nadmin-c:        CA67-AP\ntech-c:         CA67-AP\nabuse-c:        AC1573-AP\nstatus:         ALLOCATED PORTABLE\nremarks:        service provider\nnotify:         fjnic@fjdcb.fz.fj.cn\nmnt-by:         APNIC-HM\nmnt-lower:      MAINT-CHINANET-FJ\nmnt-irt:        IRT-CHINANET-CN\nlast-modified:  2021-06-15T08:06:37Z\nsource:         APNIC\n\nirt:            IRT-CHINANET-CN\naddress:        No.31 ,jingrong street,beijing\naddress:        100032\ne-mail:         anti-spam@chinatelecom.cn\nabuse-mailbox:  anti-spam@chinatelecom.cn\nadmin-c:        CH93-AP\ntech-c:         CH93-AP\nauth:           # Filtered\nremarks:        anti-spam@chinatelecom.cn was validated on 2022-02-14\nmnt-by:         MAINT-CHINANET\nlast-modified:  2022-02-14T07:13:12Z\nsource:         APNIC\n\nrole:           ABUSE CHINANETCN\naddress:        No.31 ,jingrong street,beijing\naddress:        100032\ncountry:        ZZ\nphone:          +000000000\ne-mail:         anti-spam@chinatelecom.cn\nadmin-c:        CH93-AP\ntech-c:         CH93-AP\nnic-hdl:        AC1573-AP\nremarks:        Generated from irt object IRT-CHINANET-CN\nremarks:        anti-spam@chinatelecom.cn was validated on 2022-02-14\nabuse-mailbox:  anti-spam@chinatelecom.cn\nmnt-by:         APNIC-ABUSE\nlast-modified:  2022-02-14T07:14:09Z\nsource:         APNIC\n\nrole:           CHINANETFJ IP ADMIN\naddress:        7,East Street,Fuzhou,Fujian,PRC\ncountry:        CN\nphone:          +86-591-83309761\nfax-no:         +86-591-83371954\ne-mail:         fjnic@fjdcb.fz.fj.cn\nremarks:        send spam reports  and abuse reports\nremarks:        to abuse@fjdcb.fz.fj.cn\nremarks:        Please include detailed information and\nremarks:        times in UTC\nadmin-c:        FH71-AP\ntech-c:         FH71-AP\nnic-hdl:        CA67-AP\nremarks:        www.fjtelecom.com\nnotify:         fjnic@fjdcb.fz.fj.cn\nmnt-by:         MAINT-CHINANET-FJ\nlast-modified:  2011-12-06T00:10:50Z\nsource:         APNIC\n\n% This query was served by the APNIC Whois Service version 1.88.16 (WHOIS-UK4)\n</code></pre> <p>Pouvoir monitorer les connexions r\u00e9seaux vers ou depuis l\u2019h\u00f4te</p> <pre><code>etudiant@host-sio1:~$ sudo iftop\n</code></pre> <p>Connexion ssh \u00e0 un h\u00f4te sur le r\u00e9seau</p> <pre><code>etudiant@host-sio1:~$ ssh etudiant@192.168.1.250\n</code></pre> <p>R\u00e9aliser une d\u00e9couverte d\u2019h\u00f4tes sur un r\u00e9seau \u00e0 l\u2019aide d\u2019ICMP \u00e9cho</p> <pre><code>etudiant@host-sio1:~$ nmap -sP 192.168.1.0/24\nStarting Nmap 7.80 ( https://nmap.org ) at 2022-10-25 01:01 CEST\nNmap scan report for 192.168.1.169\nHost is up (0.011s latency).\nNmap scan report for 192.168.1.181\nHost is up (0.00026s latency).\nNmap scan report for 192.168.1.254\nHost is up (0.0085s latency).\nNmap done: 256 IP addresses (3 hosts up) scanned in 6.95 second\n</code></pre> <p>R\u00e9aliser un scan de port TCP sur un h\u00f4te pr\u00e9ciser</p> <pre><code>etudiant@host-sio1:~$ sudo nmap -sS 192.168.1.250\nStarting Nmap 7.80 ( https://nmap.org ) at 2022-10-25 01:03 CEST\nNmap scan report for 192.168.1.250\nHost is up (0.0073s latency).\nNot shown: 992 filtered ports\nPORT     STATE  SERVICE\n22/tcp   open   ssh\n88/tcp   closed kerberos-sec\n139/tcp  open   netbios-ssn\n445/tcp  open   microsoft-ds\n873/tcp  open   rsync\n8080/tcp open   http-proxy\n8443/tcp open   https-alt\n9999/tcp open   abyss\nMAC Address: 24:5F:FC:89:6B:AF (Synology Computer)\n\nNmap done: 1 IP address (1 host up) scanned in 4.55 seconds\n</code></pre> <p>R\u00e9aliser un scan de port UDP sur un h\u00f4te pr\u00e9cis</p> <pre><code>etudiant@host-sio1:~$ sudo nmap -sU 192.168.1.250\n</code></pre> <p>R\u00e9aliser un scan pour d\u00e9terminer la version d\u2019un service r\u00e9seau</p> <pre><code>etudiant@host-sio1:~$ sudo nmap -sV 192.168.1.250\n</code></pre> <p>R\u00e9aliser un scan permettant de d\u00e9tecter le syst\u00e8me d\u2019exploitation de l\u2019h\u00f4te</p> <pre><code>etudiant@host-sio1:~$ sudo nmap -O 192.168.1.250\n</code></pre>"},{"location":"documentation/Linux/01--Commandes/#6-gestion-des-logiciels-paquets-et-des-mises-a-jour","title":"6. Gestion des logiciels (paquets) et des mises \u00e0 jour","text":"<p>Debian dispose d\u2019un syst\u00e8me de gestion des logiciels appel\u00e9s paquet (.deb) et de mises \u00e0 jour centralis\u00e9. Pour cela, on va se servir du syst\u00e8me APT (Advanced Package Tool) et de serveurs appel\u00e9s miroirs.</p> <p>Cela rappelle le principe de l\u2019App Store chez Apple ou de Google Play sur Android sauf que ce syst\u00e8me existe depuis le milieu des ann\u00e9es 90. Il permet de g\u00e9rer automatiquement la question des d\u00e9pendances entre librairies et logiciels ainsi que les mises \u00e0 jour en passant en g\u00e9n\u00e9ral par des miroirs officiels qui ont sign\u00e9 num\u00e9riquement les paquets fournis.</p> <p>\u00c9diter la liste des serveurs miroirs utilis\u00e9s par le syst\u00e8me</p> <pre><code>etudiant@host-sio1:~$ sudoedit /etc/apt/sources.list\n</code></pre> <p>Rafra\u00eechir la liste des miroirs utilis\u00e9s (\u00e0 r\u00e9aliser r\u00e9guli\u00e8rement)</p> <pre><code>etudiant@host-sio1:~$ sudo apt update\n</code></pre> <p>Mettre \u00e0 jour le syst\u00e8me</p> <pre><code>etudiant@host-sio1:~$ sudo apt upgrade\n</code></pre> <p>Installer un logiciel (ici le logiciel iptraf)</p> <pre><code>etudiant@host-sio1:~$ sudo apt install iptraf\n</code></pre> <p>Rechercher une cha\u00eene de caract\u00e8res (ici wireshark) dans la liste des paquets disponibles (pr\u00e9f\u00e9rence pour la commande aptitude dans ce contexte)</p> <p><pre><code>etudiant@host-sio1:~$ apt search wireshark\nEn train de trier... Fait\nRecherche en texte int\u00e9gral... Fait\netherpuppet/stable 0.3-4 amd64\n  create a virtual interface from a remote Ethernet interface\n\nforensics-extra-gui/stable 2.29 all\n  Forensics Environment - extra GUI components (metapackage)\n\u2026\n</code></pre> <pre><code>etudiant@host-sio1:~$ aptitude search wireshark\np   libvirt-wireshark                        - Wireshark dissector for the libvirt protocol       \np   libwireshark-data                        - network packet dissection library -- data files\n</code></pre></p> <p>Supprimer un paquet pr\u00e9sent sur le syst\u00e8me</p> <pre><code>etudiant@host-sio1:~$ sudo apt remove vlc\n</code></pre> <p>Nettoyer le syst\u00e8me</p> <pre><code>etudiant@host-sio1:~$ sudo apt clean\netudiant@host-sio1:~$ sudo apt autoclean\n</code></pre>"},{"location":"documentation/Linux/01--Commandes/#7-gestion-des-utilisateurs","title":"7. Gestion des utilisateurs","text":"<p>Liste des principaux fichiers de configuration des utilisateurs et groupes</p> <p></p> <p>Structure d\u2019une ligne du fichier /etc/passwd</p> <p></p> <p>Types d\u2019utilisateurs pr\u00e9sents sur le syst\u00e8me</p> <p>Le super-administrateur nomm\u00e9 root qui dispose de l\u2019uid et du gid 0 et qui dispose de tous les droits sur la machine.</p> <p>Les utilisateurs standards tels que etudiant qui dispose sous Debian d\u2019un uid et gid \u2265= \u00e0 1000. Ils poss\u00e8dent un r\u00e9pertoire personnel dans /home et d\u2019un shell afin de pouvoir disposer d\u2019une session sur le syst\u00e8me.</p> <p>Les utilisateurs sp\u00e9ciaux tels que sshd ou nobody qui sont utilis\u00e9s par des services (daemon) sur le syst\u00e8me pour r\u00e9aliser certaines op\u00e9rations particuli\u00e8res. Ces comptes sont tr\u00e8s limit\u00e9s puisqu\u2019ils ne peuvent pas utiliser d\u2019interpr\u00e9teur ni ouvrir une session sur le syst\u00e8me.</p> <p>Ajouter un nouvel utilisateur</p> <pre><code>etudiant@host-sio1:~$ sudo adduser alice\n</code></pre> <p>Supprimer un utilisateur</p> <pre><code>etudiant@host-sio1:~$ sudo deluser \u2013remove-home alice\n</code></pre> <p>Modifier le mot de passe d\u2019un utilisateur existant</p> <pre><code>etudiant@host-sio1:~$ sudo passwd alice\nAjouter un nouveau groupe\n</code></pre> <pre><code>etudiant@host-sio1:~$ sudo addgroup sio1\n</code></pre> <p>Ajouter alice au groupe sio1</p> <pre><code>etudiant@host-sio1:~$ sudo adduser alice sio1\n</code></pre>"},{"location":"documentation/Linux/01--Commandes/#8-gestion-de-larborescence-et-des-fichiers","title":"8. Gestion de l\u2019arborescence et des fichiers","text":"<p>Lister le contenu d\u2019un r\u00e9pertoire</p> <pre><code>etudiant@template-srv:~$ ls\nsio1  test.txt\n</code></pre> <p>Lister le contenu d\u2019un r\u00e9pertoire en affichant les fichiers cach\u00e9s (-a) et les propri\u00e9t\u00e9s avanc\u00e9es de chaque \u00e9l\u00e9ment (-l)</p> <pre><code>etudiant@template-srv:~$ ls -al\ntotal 32\ndrwxr-xr-x 4 etudiant etudiant 4096 24 oct.  12:05 .\ndrwxr-xr-x 3 root     root     4096 19 avril  2022 ..\n-rw------- 1 etudiant etudiant  333 25 avril 12:06 .bash_history\n-rw-r--r-- 1 etudiant etudiant  220 19 avril  2022 .bash_logout\n-rw-r--r-- 1 etudiant etudiant 3526 19 avril  2022 .bashrc\ndrwxr-xr-x 3 etudiant etudiant 4096 25 avril 12:05 .local\n-rw-r--r-- 1 etudiant etudiant  807 19 avril  2022 .profile\ndrwxr-xr-x 2 etudiant etudiant 4096 24 oct.  12:05 sio1\n-rw-r--r-- 1 etudiant etudiant    0 24 oct.  12:05 test.txt\n</code></pre> <p>Tous les fichiers ou dossiers cach\u00e9s sous GNU/Linux commencent par un . (ex\u00a0: .bash_history).</p> <p>Explication d\u00e9taill\u00e9e du contenu affich\u00e9 avec la pr\u00e9c\u00e9dente commandes</p> <pre><code>drwxr-xr-x 2 etudiant etudiant 4096 24 oct.  12:05 sio1\n</code></pre> Structure Explication d Type de fichier (d = dossier, - = fichier, l = lien symbolique) rwx Droits de lecture, \u00e9criture, ex\u00e9cution pour le propri\u00e9taire du fichier (ici etudiant) r-x Droits de lecture et ex\u00e9cution pour le groupe d\u2019appartenance du fichier (ici \u00e9tudiant) r-x Droits de lecture et ex\u00e9cution pour tous les autres utilisateurs du syst\u00e8me 2 Num\u00e9ro du fichier index\u00e9 par le syst\u00e8me d\u2019exploitation etudiant:etudiant Propri\u00e9taire et groupe d\u2019appartenance du fichier 4096 Taille du fichier exprim\u00e9 en octets 24 oct. 12:05 Date de cr\u00e9ation du fichier sio1 Nom du fichier <p>Diff\u00e9rence entre chemin relatif et absolu</p> <p>Le chemin relatif se base sur le r\u00e9pertoire dans lequel vous \u00eates d\u00e9j\u00e0 et ne part pas de la racine de l\u2019arborescence syst\u00e8me (/).</p> <pre><code>etudiant@template-srv:~$ pwd\n/home/etudiant\netudiant@template-srv:~$ cd sio1\netudiant@template-srv:~/sio1$\n</code></pre> <p>Dans cet exemple, je suis dans le r\u00e9pertoire /home/etudiant et je souhaite me d\u00e9placer dans le sous-r\u00e9pertoire sio1. Je tape donc la commande cd sio1.</p> <p>Le chemin absolu est le chemin complet vers un fichier ou un dossier en partant de la racine du syst\u00e8me d\u2019exploitation \u00e0 savoir /.</p> <pre><code>etudiant@template-srv:~$ pwd\n/home/etudiant\netudiant@template-srv:~$ cd /etc/ssh\netudiant@template-srv:/etc/ssh$\n</code></pre> <p>Dans l\u2019exemple pr\u00e9c\u00e9dent, je suis dans le r\u00e9pertoire /home/etudiant et je souhaite me d\u00e9placer dans le r\u00e9pertoire /etc/ssh. J\u2019indique que je souhaite partir de la racine pour aller dans le r\u00e9pertoire /etc puis dans le sous-r\u00e9pertoire /etc/ssh. </p> <p>L\u2019utilisation du chemin absolu \u00e9vite les erreurs surtout lorsque l\u2019on est d\u00e9butant.</p> <p>Savoir dans quel r\u00e9pertoire je me situe</p> <pre><code>etudiant@template-srv:~$ pwd\n/home/etudiant\n</code></pre> <p>Se d\u00e9placer dans l\u2019arborescence et changer de r\u00e9pertoire</p> <pre><code>etudiant@template-srv:~$ cd /var/log/\netudiant@template-srv:/var/log$ pwd\n/var/log\n</code></pre> <p>Se d\u00e9placer pour retourner dans son r\u00e9pertoire personnel</p> <pre><code>etudiant@template-srv:/var/log$ cd ~\netudiant@template-srv:~$ pwd\n/home/etudiant\n</code></pre> <p>Revenir dans le r\u00e9pertoire parent</p> <pre><code>etudiant@template-srv:~/sio1$ cd ..\netudiant@template-srv:~$ pwd\n/home/etudiant\n</code></pre> <p>Cr\u00e9ation d\u2019un dossier ou r\u00e9pertoire</p> <pre><code>etudiant@template-srv:~$ mkdir /home/etudiant/sisr\netudiant@template-srv:~$ ls\nsio1  sisr  test.txt\n</code></pre> <p>Cr\u00e9ation d\u2019un fichier vide ou mise \u00e0 jour de son horodatage</p> <pre><code>etudiant@template-srv:~$ touch /home/etudiant/test2.txt\netudiant@template-srv:~$ ls\nsio1  sisr  test2.txt  test.txt\n</code></pre> <p>Copier un fichier</p> <pre><code>etudiant@template-srv:~$ cp test.txt test3.txt\netudiant@template-srv:~$ ls\nsio1  sisr  test2.txt  test3.txt  test.txt\n</code></pre> <p>Copier un r\u00e9pertoire avec tout ce qu\u2019il contient</p> <pre><code>etudiant@template-srv:~$ cp -r sisr slam\netudiant@template-srv:~$ ls\nsio1  sisr  slam  test2.txt  test3.txt  test.txt\n</code></pre> <p>D\u00e9placer ou renommer un fichier</p> <pre><code>etudiant@template-srv:~$ mv test3.txt test4.txt\netudiant@template-srv:~$ ls\nsio1  sisr  slam  test2.txt  test4.txt  test.txt\n</code></pre> <p>Afficher le contenu d\u2019un fichier</p> <pre><code>etudiant@template-srv:~$ cat /etc/hosts\n127.0.0.1   localhost\n127.0.1.1   template-srv.armatis.demouliere.eu  template-srv\n</code></pre> <p>Afficher le contenu d\u2019un long fichier progressivement</p> <pre><code>etudiant@template-srv:~$ more /etc/ssh/sshd_config\n\n#   $OpenBSD: sshd_config,v 1.103 2018/04/09 20:41:22 tj Exp $\n# This is the sshd server system-wide configuration file.  See\n# sshd_config(5) for more information.\n\u2026.\n</code></pre> <p>D\u00e9placement dans le fichier ligne par ligne \u00e0 l\u2019aide de la touche Entr\u00e9e ou par bloc \u00e0 l\u2019aide de la touche Espace.</p> <p>Afficher les 10 derni\u00e8res lignes d\u2019un fichier</p> <pre><code>etudiant@template-srv:~$ tail /etc/ssh/sshd_config\n\n# override default of no subsystems\nSubsystem   sftp    /usr/lib/openssh/sftp-server\n\n# Example of overriding settings on a per-user basis\n#Match User anoncvs\n#   X11Forwarding no\n#   AllowTcpForwarding no\n#   PermitTTY no\n#   ForceCommand cvs server\n</code></pre> <p>Afficher les 10 derni\u00e8res lignes d\u2019un fichier et les nouvelles lignes qui s\u2019y ajoutent  en temps r\u00e9el</p> <pre><code>root@template-srv:/home/etudiant# tail -f /var/log/auth.log\n\nOct 24 12:04:08 template-srv systemd: pam_unix(systemd-user:session): session opened for user etudiant(uid=1000) by (uid=0)\nOct 24 12:04:31 template-srv sshd[453]: Accepted password for etudiant from 192.168.1.142 port 60262 ssh2\n\u2026.\n</code></pre> <p>Pour terminer la commande tail -f et revenir au shell, il faut utiliser le raccourci clavier Ctrl+C (permet d\u2019arr\u00eater un processus en cours).</p>"},{"location":"documentation/Linux/01--Commandes/#9-gestion-des-permissions-et-des-habilitations-sur-les-fichiers","title":"9. Gestion des permissions et des habilitations sur les fichiers","text":"<p>Changer le propri\u00e9taire et le groupe d\u2019appartenance d\u2019un fichier</p> <pre><code>etudiant@host-sio1:~$ sudo chown prof:admin test.txt\n</code></pre> <p>D\u00e9sormais, le propri\u00e9taire du fichier test.txt est l\u2019utilisateur prof et le groupe d\u2019appartenance admin.</p> <p>Changer le propri\u00e9taire et le groupe d\u2019appartenance sur un r\u00e9pertoire et tous les fichiers qu\u2019il contient</p> <pre><code>etudiant@host-sio1:~$ sudo chown -R prof:admin slam\n</code></pre> <p>Changer les permissions sur un fichier</p> <p>Le changement des permissions peut se faire par l\u2019interm\u00e9diaire de la m\u00e9thode octale ou la m\u00e9thode symbolique.</p> <p></p> <p># u=propri\u00e9taire, g=groupe, o=les autres, a= tous, + pour ajouter un droit et \u2013 pour retirer un droit. chmod [ugoa][+-][rwx]</p> <pre><code>etudiant@host-sio1:~$ chmod 640 test2.txt \netudiant@host-sio1:~$ chmod u+rw,g+r,o-rwx test2.txt\n</code></pre> <p>Les deux commandes ci-dessus font la m\u00eame chose. Elles permettent d\u2019attribuer les droits de lecture/\u00e9criture au propri\u00e9taire de test2.txt, le droit de lecture au groupe d\u2019appartenance et aucun droit aux autres utilisateurs du syst\u00e8me.</p> <p>Vous pouvez choisir la m\u00e9thode qui vous convient le mieux.</p>"},{"location":"documentation/Linux/01--Commandes/#10-gestion-des-processus","title":"10. Gestion des processus","text":"<p>Afficher la liste des processus pr\u00e9sents sur le syst\u00e8me d\u2019exploitation</p> <pre><code>etudiant@host-sio1:~$ sudo ps aux\n</code></pre> <p>Afficher tous les processus en cours de fonctionnement</p> <pre><code>etudiant@host-sio1:~$ sudo top\n</code></pre> <p>Tuer un processus \u00e0 l\u2019aide son identifiant unique nomm\u00e9 PID</p> <pre><code>etudiant@host-sio1:~$ kill -9 1374\n</code></pre>"},{"location":"documentation/Linux/01--Commandes/#11-effectuer-des-recherches-sur-le-systeme","title":"11. Effectuer des recherches sur le syst\u00e8me","text":"<p>D\u00e9terminer le type d\u2019un fichier</p> <pre><code>etudiant@host-sio1:~$ file test.txt\ntest.txt: ASCII text\n</code></pre> <p>Savoir o\u00f9 est install\u00e9e pr\u00e9cis\u00e9ment une commande sur le syst\u00e8me</p> Qu\u2019est-ce que la variable d\u2019environnement PATH\u00a0? (valable sur Windows \u00e9galement) <p>Vous pouvez taper directement un certain nombre de commandes directement dans votre terminal sans avoir \u00e0 pr\u00e9ciser leur chemin absolu. Cela est possible gr\u00e2ce \u00e0 la variable d\u2019environnement PATH qui indique tous les r\u00e9pertoires o\u00f9 sont stock\u00e9es les principales commandes syst\u00e8me.  Il est possible de modifier cette variable d\u2019environnement afin d\u2019utiliser de nouveaux ex\u00e9cutables sans \u00e0 pr\u00e9ciser leur chemin absolu (soit en ajoutant cette variable dans le fichier .bashrc propre \u00e0 l\u2019utilisateur ou le fichier /etc/environment qui s\u2019appliquera \u00e0 tous les utilisateurs du syst\u00e8me).</p> <pre><code>etudiant@host-sio1:~$ echo $PATH\n/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games\n</code></pre> <pre><code>etudiant@host-sio1:~$ which ping\n/usr/bin/ping\n</code></pre> <p>Rechercher tous les fichiers qui commencent par \u00ab\u00a0tes\u00a0\u00bb dans le r\u00e9pertoire /home/etudiant</p> <pre><code>etudiant@host-sio1:~$ find /home/etudiant -name \"tes*\"\n/home/etudiant/test2.txt\n/home/etudiant/test.txt\n/home/etudiant/test4.txt\n/home/etudiant/test.pcap\n</code></pre> <p>Rechercher tous les fichiers disposant de la suite de caract\u00e8res slam</p> <pre><code>etudiant@host-sio1:~$ sudo updatedb\netudiant@host-sio1:~$ locate slam\n/home/etudiant/slam\n</code></pre> <p>Les commandes locate et find sont relativement similaires. Locate est simple et facile \u00e0 utiliser. Find est une commande tr\u00e8s puissante que l\u2019on peut coupler \u00e0 d\u2019autres commandes pour r\u00e9aliser des t\u00e2ches complexes sur le syst\u00e8me.</p> <p>Rechercher une cha\u00eene de caract\u00e8res dans un fichier et affiche la ou les lignes concern\u00e9es</p> <pre><code>etudiant@host-sio1:~$ grep Hel test.txt\nHello World ! \n</code></pre>"},{"location":"documentation/Linux/01--Commandes/#12-informations-systeme","title":"12. Informations syst\u00e8me","text":"<p>Afficher la date et l\u2019heure du syst\u00e8me</p> <pre><code>etudiant@host-sio1:~$ date\nlun. 24 oct. 2022 16:06:51 CEST\n</code></pre> <p>Afficher la dur\u00e9e d\u2019activit\u00e9 du syst\u00e8me depuis son dernier d\u00e9marrage</p> <pre><code>etudiant@host-sio1:~$ uptime\n 16:07:33 up  2:35,  2 users,  load average: 0,00, 0,00, 0,00\n</code></pre> <p>Qui est connect\u00e9 sur le syst\u00e8me ?</p> <pre><code>etudiant@host-sio1:~$ who\netudiant tty1         2022-10-24 13:36\netudiant pts/0        2022-10-24 15:20 (192.168.1.142)\n</code></pre> <p>Qui suis-je sur le syst\u00e8me ?</p> <pre><code>etudiant@host-sio1:~$ whoami\netudiant\n</code></pre> <p>Afficher les informations concernant un utilisateur</p> <pre><code>etudiant@host-sio1:~$ finger prof\nLogin: prof                     Name: Prof\nDirectory: /home/prof                   Shell: /bin/bash\nNever logged in.\nNo mail.\nNo Plan.\n</code></pre> <p>Afficher les informations \u00e0 propos du noyau syst\u00e8me</p> <pre><code>etudiant@host-sio1:~$ uname -a\nLinux host-sio1 5.10.0-13-amd64 #1 SMP Debian 5.10.106-1 (2022-03-17) x86_64 GNU/Linux\n</code></pre> <p>Afficher les informations \u00e0 propos du CPU</p> <pre><code>etudiant@host-sio1:~$ cat /proc/cpuinfo\n</code></pre> <p>Afficher les informations \u00e0 propos de la m\u00e9moire</p> <pre><code>etudiant@host-sio1:~$ cat /proc/meminfo\n</code></pre> <p>Afficher l\u2019espace disque</p> <pre><code>etudiant@host-sio1:~$ df -h\nSys. de fichiers Taille Utilis\u00e9 Dispo Uti% Mont\u00e9 sur\nudev               976M       0  976M   0% /dev\ntmpfs              199M    516K  198M   1% /run\n/dev/sda1          6,9G    1,2G  5,3G  19% /\ntmpfs              992M       0  992M   0% /dev/shm\ntmpfs              5,0M       0  5,0M   0% /run/lock\ntmpfs              199M       0  199M   0% /run/user/1000\n</code></pre> <p>Afficher la taille d\u2019un r\u00e9pertoire</p> <pre><code>etudiant@host-sio1:~$ du -h sio1/\n4,0K    sio1/\n</code></pre> <p>Afficher la m\u00e9moire vive et swap disponible</p> <pre><code>etudiant@host-sio1:~$ free -h\n</code></pre>"},{"location":"documentation/Linux/01--Commandes/#13-gestion-des-services-et-des-daemons","title":"13. Gestion des services et des daemons","text":"<p>Debian GNU/Linux dispose d\u2019un programme particulier systemd (qui dispose du PID 1) dont le r\u00f4le est la gestion des processus et des services sur la machine. Il existe un certain nombre de commandes \u00e0 conna\u00eetre afin de r\u00e9aliser des op\u00e9rations par son interm\u00e9diaire.</p> <p>G\u00e9rer un service particulier</p> <pre><code>etudiant@host-sio1:~$ sudo systemctl start ssh\n</code></pre> <p>La commande pr\u00e9c\u00e9dente permet de d\u00e9marrer le service SSH sur le syst\u00e8me. \u00c0 la place de la directive \u00ab\u00a0start\u00a0\u00bb, vous pouvez \u00e9galement indiquer\u00a0:</p> <p>stop | restart | reload | status</p> <p>Consulter les traces en cas de probl\u00e8me avec un services</p> <pre><code>etudiant@host-sio1:~$ sudo journalctl -u sshd.service\n</code></pre> <pre><code>etudiant@host-sio1:~$ sudo cat /var/log/auth.log\n</code></pre> <p>Le r\u00e9pertoire /var/log contient tous les journaux d\u2019\u00e9v\u00e8nements li\u00e9s au syst\u00e8me. Ayez le r\u00e9flexe d\u2019aller chercher des informations lorsqu\u2019un service ne d\u00e9marre pas ou qu\u2019une erreur se produit.</p>"},{"location":"documentation/Linux/01--Commandes/#14-gestion-des-archives","title":"14. Gestion des archives","text":"<p>Cr\u00e9er une archive compress\u00e9e</p> <pre><code>etudiant@host-sio1:~$ tar czf sio1.tar.gz sio1\netudiant@host-sio1:~$ ls\nsio1  sio1.tar.gz \n</code></pre> <p>D\u00e9compresser une archive au format tar.gz</p> <pre><code>etudiant@host-sio1:~$ tar zxf sio1.tar.gz\n</code></pre>"},{"location":"documentation/Linux/01--Commandes/#15-les-raccourcis-clavier-systeme","title":"15. Les raccourcis clavier syst\u00e8me","text":"Ctrl+C Arr\u00eater une commande en cours. Ctrl+Z Stopper une commande en cours et la basculer \u00e0 l\u2019arri\u00e8re-plan. Le processus reste en activit\u00e9. Ctrl+D Fermer la session en cours. Ctrl+W Supprimer un mot sur la ligne de commande en cours. Ctrl+U Supprimer toute la ligne en cours. Ctrl+R Rechercher une commande tap\u00e9e pr\u00e9c\u00e9demment et contenant un mot-cl\u00e9 Ctrl+L R\u00e9initialise le terminal avec un \u00e9cran propre. !! R\u00e9p\u00e8te la commande pr\u00e9c\u00e9dente. Fl\u00e8che haut Derni\u00e8res commandes tap\u00e9es. Touche Tabulation Permet l\u2019auto-compl\u00e9tion d\u2019une commande <p>Enfin la commande \u00ab\u00a0history\u00a0\u00bb permet d\u2019obtenir l\u2019historique des commandes tap\u00e9es par l\u2019utilisateur.</p> <pre><code>etudiant@host-sio1:~$ history\n</code></pre>"},{"location":"documentation/Linux/01--Commandes/#16-utilisation-avancee-de-debian","title":"16. Utilisation avanc\u00e9e de Debian","text":""},{"location":"documentation/Linux/01--Commandes/#a-les-redirecteurs","title":"A) Les redirecteurs","text":"<p>Sur le syst\u00e8me GNU/Linux, il existe 3 canaux de communication\u00a0: stdin, stdout, stderr.</p> <ul> <li>Stdin est l\u2019entr\u00e9e standard du syst\u00e8me \u00e0 savoir par d\u00e9faut le clavier.</li> <li>Stdout est la sortie standard du syst\u00e8me \u00e0 savoir ce qui s\u2019affiche \u00e0 l\u2019\u00e9cran par l\u2019interm\u00e9diaire du terminal.</li> <li>Stderr est la sortie d\u2019erreur standard qui g\u00e8re l\u2019affichage des erreus qui sera diffus\u00e9 vers le terminal et l\u2019\u00e9cran.</li> </ul> <p>Sous Linux, il existe la notion de redirecteurs qui permettent de rediriger les flux mentionn\u00e9s pr\u00e9c\u00e9demment ailleurs que la valeur par d\u00e9faut.</p> <p>Utilisation d\u2019un redirecteur de sortie</p> <p>Normalement, si l\u2019on tape la commande ls dans un terminal, le r\u00e9sultat de cette commande va s\u2019afficher \u00e0 l\u2019\u00e9cran par le biais de la console ou du terminal.</p> <pre><code>etudiant@host-sio1:~$ ls\nsio1  sio1.tar.gz  sisr  slam  test4.txt  test.pcap  test.txt\n</code></pre> <p>Si j\u2019utilise maintenant un redirecteur de sortie, je peux demander au syst\u00e8me de mettre le r\u00e9sultat dans un fichier plut\u00f4t que de l\u2019afficher \u00e0 l\u2019\u00e9cran.</p> <pre><code>etudiant@host-sio1:~$ ls &gt; contenu.txt\netudiant@host-sio1:~$ cat contenu.txt \ncontenu.txt\nsio1\nsio1.tar.gz\nsisr\nslam\ntest4.txt\ntest.pcap\ntest.txt\n</code></pre> <p>Si je veux conserver les \u00e9l\u00e9ments stock\u00e9s dans le fichier contenu.txt et en ajouter d\u2019autres, j\u2019utiliserai le redirecteur &gt;&gt;.</p> <pre><code>etudiant@host-sio1:~$ pwd &gt;&gt; contenu.txt \netudiant@host-sio1:~$ cat contenu.txt \ncontenu.txt\nsio1\nsio1.tar.gz\nsisr\nslam\ntest4.txt\ntest.pcap\ntest.txt\n/home/etudiant\n</code></pre> <p>Utilisation d\u2019un redirecteur d\u2019entr\u00e9e</p> <p>Le redirecteur d\u2019entr\u00e9e permet d\u2019envoyer le contenu d\u2019un fichier texte \u00e0 une commande.</p> <pre><code>etudiant@host-sio1:~$ cat test4.txt\nles sio1 de plc\netudiant@host-sio1:~$ tr a-z A-Z &lt; test4.txt \nLES SIO1 DE PLC\n</code></pre> <p>Utilisation d\u2019un redirecteur d\u2019erreur</p> <p>L\u2019affichage des erreurs se fait par d\u00e9faut sur l\u2019\u00e9cran mais on peut vouloir les rediriger ailleurs pour diverses raisons. La sortie d'erreurs peut-\u00eatre redirig\u00e9e \u00e0 l'aide de deux op\u00e9rateurs : 2&gt; et 2&gt;&gt;.</p> <pre><code>etudiant@host-sio1:~$ cat test.txt fichierinexistant.txt &gt; display.txt 2&gt; erreur.txt\netudiant@host-sio1:~$ cat display.txt \nHello World ! \nBloc 1 Gestion du patrimoine.\netudiant@host-sio1:~$ cat erreur.txt \ncat: fichierinexistant.txt: Aucun fichier ou dossier de ce type\n</code></pre> <p>Dans l\u2019exemple pr\u00e9c\u00e9dent, je souhaite afficher le contenu de 2 fichiers nomm\u00e9s test.txt (qui existe et contient du texte) et fichierinexistant.txt (qui n\u2019existe pas). Puis je redirige l\u2019affichage vers le fichier display.txt et s\u2019il y a un message d\u2019erreur li\u00e9 \u00e0 la commande cat, je le redirige vers le fichier erreur.txt.</p>"},{"location":"documentation/Linux/01--Commandes/#b-les-pipes","title":"B) Les pipes","text":"<p>Un \"pipe\" ou \"tuyau\" permet de passer le r\u00e9sultat d'une commande shell \u00e0 une autre commande shell. Il permet donc de cr\u00e9er une cha\u00eene de commandes.</p> <pre><code>etudiant@host-sio1:~$ ls | wc -l\n10\n</code></pre> <p>Dans l\u2019exemple pr\u00e9c\u00e9dent, la commande ls affiche le contenu du r\u00e9pertoire courant. Le r\u00e9sultat de cette commande est transmis \u00e0 la commande wc -l qui permet de compter le nombre de lignes. Le r\u00e9sultat affich\u00e9 est 10 est correspond au nombre de fichiers et dossiers list\u00e9s par la commande ls.</p> <pre><code>root@host-sio1:/home/etudiant# grep ssh /var/log/auth.log |wc -l\n33\n</code></pre> <p>Je cherche les lignes ou la cha\u00eene de caract\u00e8res ssh est pr\u00e9sente dans le fichier auth.log puis je compte le nombre de ligne. Et il est possible d\u2019obtenir des r\u00e9sultats extr\u00eamement puissants, une fois le concept ma\u00eetris\u00e9.</p> <pre><code>root@melkor:~# cat /var/log/auth.log | grep \"Failed password for root\" | awk '{print $11}'| sort | uniq | mail -s Adresses IP Brute-force SSH postmaster@cub.sioplc.fr\n</code></pre> <p>Ce dernier exemple permet d\u2019envoyer un mail \u00e0 postmaster@cub.sioplc.fr ayant pour sujet  Adresses IP Brute-force SSH contenant la liste des adresses IPv4 ayant essay\u00e9 de se connecter en root sur un serveur et ayant \u00e9chou\u00e9.</p>"},{"location":"documentation/Linux/02--Lvm/","title":"LVM le gestionnaire de volumes logiques sous GNU/Linux","text":""},{"location":"documentation/Linux/02--Lvm/#1-introduction","title":"1. Introduction","text":"<p>La gestion des disques et de l'espace de stockage peut vite devenir un casse-t\u00eate sur un serveur notamment lorsque l'on se rend compte apr\u00e8s coup que le partitionnement choisi sur le disque dur n'\u00e9tait pas pertinent ou que l'une des paritions est satur\u00e9e.</p> <p>Heureusement sur GNU/Linux, une solution g\u00e9niale existe ! Elle se nomme Logical Volume Manager (LVM). Elle pourra vous sauver la mise dans bien des situations stressantes et compliqu\u00e9es.</p>"},{"location":"documentation/Linux/02--Lvm/#2-historique","title":"2. Historique","text":"<p>\u00c0 la fin des ann\u00e9es 1990, IBM a lib\u00e9r\u00e9 le code source de son gestionnaire de volumes logiques (LVM) et de son syst\u00e8me de fichiers journalis\u00e9 (JFS) afin de les porter sur Linux. Cette initiative a permis d\u2019int\u00e9grer LVM dans le noyau Linux, offrant ainsi une solution flexible pour la gestion des espaces de stockage, notamment la possibilit\u00e9 de redimensionner dynamiquement les partitions et de cr\u00e9er des volumes s\u2019\u00e9tendant sur plusieurs disques physiques. </p> <p>Puis LVM 2 a \u00e9t\u00e9 propos\u00e9e et ajoute des fonctionnalit\u00e9s suppl\u00e9mentaires extr\u00eamement puissantes telles que les snapshots et le thin provisioning (cr\u00e9ation de volumes n'utilisant que l'espace en cours d'utilisation, ex : un volume logique de 30 Go qui ne disposera que de 8Go d'espace utilis\u00e9 aura une taille de 8 Go et pourra augmenter dynamiquement).</p> <p>LVM 2 est un outil pr\u00e9sent sur la majorit\u00e9 des distributions GNU/Linux modernes dont Debian.</p>"},{"location":"documentation/Linux/02--Lvm/#3-comment-fonctionne-lvm-2","title":"3. Comment fonctionne LVM 2 ?","text":"<p>Voici les \u00e9l\u00e9ments cl\u00e9s de l\u2019architecture de LVM2 :</p> <ul> <li> <p>Physical Volumes (PV) : Ce sont les disques physiques ou partitions qui serviront de base pour LVM2. Ils peuvent \u00eatre de diff\u00e9rents types (HDD, SSD, etc.).</p> </li> <li> <p>Volume Groups (VG) : Un Volume Group regroupe plusieurs Physical Volumes en un seul espace logique. C\u2019est une sorte de \u201cpool\u201d dans lequel on peut puiser pour cr\u00e9er des volumes logiques.</p> </li> <li> <p>Logical Volumes (LV) : Les Logical Volumes sont des morceaux du Volume Group. Ce sont eux que vous formatez et montez pour y stocker vos donn\u00e9es. Ils fonctionnent comme des partitions, mais avec beaucoup plus de flexibilit\u00e9.</p> </li> <li> <p>Thin Provisioning : C\u2019est une fonctionnalit\u00e9 avanc\u00e9e qui permet de cr\u00e9er des volumes logiques sans allouer imm\u00e9diatement tout l\u2019espace. Pratique pour optimiser l\u2019utilisation des ressources.</p> </li> <li> <p>Snapshots : Ce sont des copies instantan\u00e9es d\u2019un volume logique. Parfait pour sauvegarder ou tester des modifications.</p> </li> </ul> <p>Voici un sch\u00e9ma de principe expliquant le fonctionnement de LVM 2 :</p> <p></p>"},{"location":"documentation/Linux/02--Lvm/#4-les-commandes-liees-a-lutilisation-de-lvm-2","title":"4. Les commandes li\u00e9es \u00e0 l'utilisation de LVM 2","text":"<p>Installer LVM 2 sur Debian si n\u00e9cessaire</p> <pre><code>sudo apt update\nsudo apt install lvm2\n</code></pre> <p>Analyse des disques existants sur le syst\u00e8me</p> <pre><code> sudo lsblk\n</code></pre> <p>On peut \u00e9galement utiliser l'outil historique fdisk.</p> <pre><code>sudo fdisk -l \n</code></pre> <p>Convertir des disques ou des partitions en Physical Volumes (PV)</p> <pre><code>sudo pvcreate /dev/sda /dev/sdb /dev/sdc /dev/sdd\n\n  Physical volume \"/dev/sda\" successfully created.\n  Physical volume \"/dev/sdb\" successfully created.\n  Physical volume \"/dev/sdc\" successfully created.\n  Physical volume \"/dev/sdd\" successfully created.\n</code></pre> <p>Si l'on souhaite initialiser un seul disque ou une seule partition :</p> <pre><code>sudo pvcreate sde\nsudo pvcreate sde1\n</code></pre> <p>Obtenir les informations concernant les PVE</p> <pre><code>sudo pvdisplay\n</code></pre> <p>Cr\u00e9ation d'un Volume Group (VG)</p> <pre><code>sudo vgcreate Data /dev/sda /dev/sdb /dev/sdc /dev/sdd\n  Volume group \"Data\" successfully created\n</code></pre> <p>Obtenir les informations concernant les VG </p> <pre><code>sudo vgdisplay\n</code></pre> <p>Cr\u00e9ation de volumes logiques (LV) </p> <pre><code>sudo lvcreate -L 250G -n MySQLData Data\n</code></pre> <p>Obtenir les informations concernant les LV <pre><code>sudo lvdisplay\n</code></pre></p> <p>Formatage des volumes logiques (LV)</p> <pre><code>sudo mkfs.ext4 /dev/Data/MySQLData\n</code></pre> <p>Montage des volumes logiques sur le syst\u00e8me</p> <pre><code>sudo mkdir -p /bdd\nsudo mount /dev/Data/MySQLData /bdd\n</code></pre> <p>Si vous souhaitez rendre les points de montage persistants (automatiquement mont\u00e9s au d\u00e9marrage de l'OS), il est n\u00e9cessaire d'ajouter une ligne sp\u00e9cifique dans le fichier /etc/fstab. </p> <p>Pour v\u00e9rifier si le montage est effectif, vous pouvez utiliser les commandes df ou mount.</p> <p>Augmentation de la taille d'un volume logique </p> <pre><code>sudo lvextend -L +20G /dev/Data/MySQLData\n</code></pre> <p>Apr\u00e8s avoir agrandi le volume logique, il est n\u00e9cessaire de redimensionner le syst\u00e8me de fichier utilis\u00e9</p> <pre><code>sudo resize2fs /dev/Data/MySQLData\n</code></pre> <p>R\u00e9duction de la taille d'un volume logique</p> <p>Attention</p> <p>La r\u00e9duction d'un volume logique n'est pas anodin et peut entrainer des probl\u00e8mes dont la perte ou la corruption de donn\u00e9es. R\u00e9alisez cette op\u00e9ration avec prudence.</p> <pre><code>sudo resize2fs /dev/Data/MySQLData 30G\nsudo lvreduce -L 30G /dev/Data/MySQLData\n</code></pre> <p>Suppression d'un volume logique</p> <pre><code>sudo umount /bdd \nsudo lvremove /dev/Data/MySQLData \n</code></pre> <p>Suppression d'un groupe de volume </p> <pre><code>sudo lvremove /dev/Data\nsudo vgremove Data\n</code></pre> <p>Surveiller l'\u00e9tat des volumes </p> <pre><code>sudo lvscan\n</code></pre>"},{"location":"documentation/Linux/02--Lvm/#5-les-snapshots","title":"5. Les snapshots","text":"<p>LVM permet de r\u00e9aliser des clich\u00e9s instantan\u00e9s de volumes logiques (snapshots). Les snapshots sont des volumes logiques \"sp\u00e9ciaux\". Ce LV \"snapshot\" ne contient pas de syst\u00e8me de fichiers et ne peut donc pas \u00eatre mont\u00e9. Il va stocker uniquement les modifications de donn\u00e9es (ajout/suppressions). On d\u00e9finira une taille \u00e0 ce volume logique de type snapshot, mais cette valeur n'agrandira pas le volume logique initial \u00e9videmment</p> <p>Dans un premier temps, il faut s'assurer qu'il reste de la place dans le groupe de volume afin de pouvoir cr\u00e9er un nouveau volume logique d\u00e9di\u00e9 aux snpashots.</p> <pre><code>sudo vgs\n</code></pre> <p>Il faut identifier ensuite le volume logique pour lequel on veut cr\u00e9er un instantan\u00e9.</p> <pre><code>sudo lvs \n</code></pre> <p>Cr\u00e9ation du snapshot</p> <pre><code>sudo lvcreate -L 10G -s -n snapbdd /dev/Data/MySQLData\n</code></pre> <p>On va cr\u00e9er ici un nouveau volume logique de 10 Giga d\u00e9di\u00e9 aux snapshots de MySQLData. Les 10 Giga ne seront pas directement mobilis\u00e9s. Au fur et \u00e0 mesure des modifications dans MySQLData, snpbdd grossira et utilisera de plus en plus d'espace libre.</p> <p>La taille va augmenter \u00e0 chaque modification sur le syst\u00e8me de fichier concern\u00e9 : cr\u00e9ation, modification, suppression de fichiers. Il peut donc th\u00e9oriquement avoir besoin de plus de place sur le LV \"snapshot\" que de place initiale sur le LV source. Il s'agit du m\u00eame m\u00e9canisme que les snapshots de machine virtuelle.</p> <p>Restaurer un snapshot d\u00e9montable</p> <p>Si l'on ne souhaite pas conserver les modifications r\u00e9alis\u00e9es apr\u00e8s le snapshot, on va restaurer le volume logique dans son \u00e9tat ant\u00e9rieur.</p> <pre><code>sudo umount /bdd \nsudo lvconvert --mergesnapshot /dev/Data/MySQLData\nsudo mount /data \n</code></pre> <p>Restaurer un snapshot non d\u00e9montable </p> <p>Dans le cas d'un snapshot de la racine par exemple, ou d'un volume utilis\u00e9 par des processus qu'on ne peut stopper, on va lancer directement la commande lvconvert.</p> <pre><code>sudo lvconvert --mergesnapshot /dev/Data/snapbdd\nsudo shutdown -r shutdown\n</code></pre> <p>Pour prendre en compte la restauration, nous n'aurons pas d'autre choix que de red\u00e9marrer la machine.</p> <p>Fusionner le snapshot </p> <p>Si apr\u00e8s des modifications, on souhaite garder les donn\u00e9es en l'\u00e9tat, on va supprimer le snapshot r\u00e9alis\u00e9 pr\u00e9c\u00e9demment. Le LV d'origine et le LV snapshot seront fusionn\u00e9s.</p> <pre><code>sudo lvremove /dev/Data/snapbdd\n</code></pre>"},{"location":"documentation/Linux/02--Lvm/#sources","title":"Sources","text":"<ul> <li>La documentation sur LVM de St\u00e9phane Robert </li> <li>L'article sur les snapshots LVM d'Adrien Linux Tricks </li> <li>La documentation sur LVM d'IT Connect </li> </ul>"},{"location":"documentation/Linux/03--Grub/","title":"S\u00e9curiser l'acc\u00e8s au logiciel d'amor\u00e7age GRUB 2","text":""},{"location":"documentation/Linux/03--Grub/#1-introduction","title":"1. Introduction","text":"<p>Le bootloader GRUB est un logiciel central lorsque l'on met en place un serveur sur GNU/Linux. En effet, il permet d'amorcer le d\u00e9marrage du syst\u00e8me en choisissant la version du noyau utilis\u00e9e ainsi qu'un certain nombre d'options.</p> <p>Or, par d\u00e9faut n'importe qui peut modifier les param\u00e8tres d'amor\u00e7age de GRUB. Cela peut ainsi permettre \u00e0 quelqu'un de malveillant de se connecter au syst\u00e8me GNU/Linux en mode Single User qui correspond \u00e0 mode de secours. Dans ce mode, on se connecte avec le superadministrateur sans mot de passe. On peut donc par la suite r\u00e9aliser n'importe quelle op\u00e9ration sur l'OS.</p> <p>Heureusement, il est possible d'imposer la mise en place d'une authentification par login et mot de passe lorsque que l'on souhaite modifier les param\u00e8tres de boot de GRUB.</p>"},{"location":"documentation/Linux/03--Grub/#2-configuration","title":"2. Configuration","text":""},{"location":"documentation/Linux/03--Grub/#21-definir-un-clavier-azerty-pour-grub","title":"2.1 D\u00e9finir un clavier azerty pour GRUB","text":"<p>Par d\u00e9faut, GRUB ne reconna\u00eet que le clavier en QWERTY, ce qui n'est pas tr\u00e8s pratique lorsque l'on cr\u00e9e un utilisateur et un mot de passe avec un clavier AZERTY. Cependant, il est possible de modifier cette configuration par d\u00e9faut.</p> <p>On commence par cr\u00e9er le dossier /boot/grub/layouts. Ensuite on g\u00e9n\u00e9re la disposition du clavier dans un fichier reconnu par GRUB.</p> <pre><code>sudo mkdir /boot/grub/layouts\nsudo grub-kbdcomp -o /boot/grub/layouts/fr.gkb fr\n</code></pre> <p>Il est n\u00e9cessaire de d\u00e9finir ce changement de type de clavier dans les fichiers de configuration du bootloader.</p> <pre><code>sudoedit /etc/default/grub\n\nGRUB_TERMINAL_INPUT=at_keyboard \n</code></pre> <pre><code>sudoedit /etc/grub.d/40_custom\n\n# Clavier fr\ninsmod keylayouts\nkeymap fr\n</code></pre> <p>Il est possible de mettre \u00e0 jour ces changements.</p> <pre><code>sudo update-grub\n</code></pre>"},{"location":"documentation/Linux/03--Grub/#22-definition-dun-utilisateur-et-dun-mot-de-passe","title":"2.2 D\u00e9finition d'un utilisateur et d'un mot de passe","text":"<p>Dans un second temps, il faut cr\u00e9er un utilisateur et un mot de passe afin de s'authentifier si l'on souhaite modifier les param\u00e8tres d'amor\u00e7age.</p> <p>La premi\u00e8re \u00e9tape consiste \u00e0 obtenir le hash d'un mot de passe saisi \u00e0 l'aide de la commande grub-mkpasswd-pbkdf2 </p> <pre><code>grub-mkpasswd-pbkdf2\nEnter password:\nReenter password:\n</code></pre> <p>Il faut ensuite fournir ce hash et un nom d'utilisateur dans le fichier /etc/grub.d/40_custom.</p> <pre><code>sudoedit /etc/grub.d/40_custom\n\n# D\u00e9fintion d'un utilisateur pour grub\nset superusers=adminsio\n# Copier le mot de passe hach\u00e9 g\u00e9n\u00e9r\u00e9 pr\u00e9c\u00e9demment\npassword_pbkdf2 adminsio grub.pbkdf2.sha512.10000.C0F70D240A8BC5F[\u2026]\n</code></pre> <p>Il reste enfin \u00e0 prendre en compte ces nouveaux param\u00e8tres et \u00e0 red\u00e9marrer.</p> <pre><code>sudo update-grub\nsudo shutdown -r now\n</code></pre>"},{"location":"documentation/Linux/03--Grub/#3conclusion","title":"3.Conclusion","text":"<p>Dor\u00e9navant, si vous tentez de modifier la s\u00e9quence de boot \u00e0 l'aide de la touche e (edit), une authentification vous sera demand\u00e9e et il ne sera plus possible de d\u00e9marrer en mode single user sans y \u00eatre</p>"}]}